<#assign base=request.contextPath />
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>

<head>

<meta charset="utf-8">
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<meta name="viewport"
	content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">

<title>${blogMes.blogName} - ${blogMes.userNikename} </title>
<link rel="stylesheet" type="text/css"
	href="http://at.alicdn.com/t/font_959643_ibxvenqnukf.css">
<link rel="stylesheet"
	href="${base }/static/layuiadmin/layui/css/layui.css">
<link rel="stylesheet"
	href="${base }/static/css/my.css">
<link rel="shortcut icon" type="image/x-icon"
	href="${base }/static/favicon.ico" />
</head>

<body class="layui-layout-body my-theme-default bgc-f4">

	<div class="layui-layout layui-layout-admin">
		<!--导航-->
		<div class="layui-header">
			<div class="layui-main">
				<div class="layui-logo">
					<div class="layui-logo-brand">
					<a href="${base }/${blogMes.userName}"><h1>${blogMes.blogName}</h1></a>
					</div>
				</div>
				<div class="layui-layout-right">
					<ul class="layui-nav">
						<li class="layui-nav-item"><a
							href="${base }/${blogMes.userName}"><i
								class="layui-icon layui-icon-home"></i>首页</a></li>
						<li class="layui-nav-item"><a
							href="${base }/${blogMes.userName}/module/1"><i
								class="layui-icon layui-icon-fonts-code"></i>问题库<span
								class="layui-badge-dot"></span></a></li>
						<li class="layui-nav-item"><a
							href="${base }/${blogMes.userName}/module/2"><i
								class="layui-icon layui-icon-snowflake"></i>随笔<span
								class="layui-badge-dot"></span></a></li>
						<li class="layui-nav-item"><a
							href="${base }/${blogMes.userName}/module/3"><i
								class="layui-icon layui-icon-component"></i>音乐<span
								class="layui-badge-dot"></span></a></li>
						<li class="layui-nav-item"><a
							href="${base }/${blogMes.userName}/line"><i
								class="iconfont icon-eit"></i>部落格<span class="layui-badge-dot"></span></a>
						</li>
						<li class="layui-nav-item"><a
							href="${base }/${blogMes.userName}/about"><i
								class="layui-icon layui-icon-about"></i>关于<span
								class="layui-badge-dot"></span></a></li>

					</ul>
				</div>
			</div>
		</div>
		<!--导航结束-->
		<div class="mg-b-20"></div>
		<!--内容开始-->
		<div class="layui-container mg-b-20">
			<div class="layui-row my-content mg-b-20">
				<div class="layui-col-md9 ">
					<div class="layui-carousel" id="test1">
  						<div carousel-item>
    						<div><img src="${base }/static/images/bg.jpg"></div>
    						<div><img src="${base }/static/images/bg2.jpg"></div>
    						<div><img src="${base }/static/images/bg.jpg"></div>
    						<div><img src="${base }/static/images/bg2.jpg"></div>
    						<div><img src="${base }/static/images/bg.jpg"></div>
    						<div><img src="${base }/static/images/bg2.jpg"></div>
  						</div>
					</div>
					<div class="border-box main-list" id="demo">
						
					</div>
				</div>
				<div class="layui-col-md3">
					<div class=" mg-l-10" id="right-view">
					<div class=" pd-15-20 mg-b-10 border-box" id="u_box">
							<div class="my-blogger-img mg-b-20">
								<a href="#"><img src="${base }${blogMes.userImageUrl }">
								</a>
							</div>
							<div class="my-blogger-detail center">
								<div class="mg-b-10">
									<span class="my-blogger-name">${blogMes.userNikename}</span><span
										class="my-blogger-sex"><i
										class="layui-icon layui-icon-female"></i></span>
								</div>
								<p class="mg-b-10">${blogMes.userDescription}</p>
								<div class="my-article-class">
									<div class="my-article-class-title layui-row layui-col-space10">
										<div class="layui-col-md6">文章</div>
										<div class="layui-col-md6">标签</div>
									</div>
									<div class="my-article-class-num layui-row layui-col-space10">
										<div class="layui-col-md6">
											<a href="#">${blogMes.articleNum }</a>
										</div>
										<div class="layui-col-md6">
											<a href="#">${blogMes.pageView }</a>
										</div>
									</div>
								</div>
							</div>
							<div class="user-backgroup-image"
								style="background-image: url(${base }/static/images/bg.jpg)"></div>
						</div>
						<div class="layui-card border-box bgc-fff mg-b-10">
							<div class="layui-card-header layui-bg-blue">阅读榜单</div>
							<div class="layui-card-body">
								<#list blogMes.articleHots as item>
									<a href="${base }/${blogMes.userName}/article/details/${item.articleId}">${item.articleName }(${item.articleClick })</a></br> 							
								</#list>
							</div>
						</div>
						<div class="layui-card border-box bgc-fff mg-b-10">
							<div class="layui-card-header layui-bg-green">标签</div>
							<div class="layui-card-body tags">
								<ul>
									<#list blogMes.tags as item>
										<a href="${base }/tag/${item.id }" target="_blank">${item.tagName }(${item.articleNumber })</a>
									</#list>
								</ul>
							</div>
						</div>
						<div class="layui-card border-box bgc-fff mg-b-10">
							<div class="layui-card-header layui-bg-cyan">推荐榜单</div>
							<div class="layui-card-body">
								<#list blogMes.articleTop as item>
									<a href="${base }/${blogMes.userName}/article/details/${item.articleId}">${item.articleName }</a></br> 
								</#list>
							</div>
						</div>
						<div class="layui-card border-box bgc-fff mg-b-10">
							<div class="layui-card-header layui-bg-gray">友情链接</div>
							<div class="layui-card-body links">
								<ul id="links">
									<#list blogMes.friendlyLinks as item>
									<a href="${item.linkUrl}" target="_blank">${item.linkName }</a>
									</#list>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<hr>
		<!--内容结束-->
		<footer class="center">
		<div class="mg-b-20">Copyright © 2018 <a href="http://www.yiduoxilanhua.cn/" target="_blank">yiduoxilanhua.cn</a>. All Rights Reserved</div>
		<div>备案号：<a href="http://www.miitbeian.gov.cn">京ICP备19026104号</a></div>
		</footer>
	</div>
	<!-- 你的HTML代码 -->
	<script src="${base }/static/js/my.js"></script>
	<script
		src="${base }/static/layuiadmin/layui/layui.js"></script>
	<script>
		//一般直接写在一个js文件中
		layui.config({
			base : '${base }/static/layuiadmin/' //静态资源所在路径
		}).extend({
			index : 'lib/index' //主入口模块
		}).use([ 'index','flow','jquery','layer', 'util','home','carousel' ], function() {
			var i=layui.$,
			layer = layui.layer,
	        flow = layui.flow,
	        util = layui.util,
	        carousel=layui.carousel;
			//建造实例
			  carousel.render({
			    elem: '#test1'
			    ,width: '100%' //设置容器宽度
			    ,arrow: 'hover' //始终显示箭头
			    ,anim: 'fade' //切换动画方式
			  });
			//流加载渲染主页内容
	        flow.load({
	            elem: '#demo' //指定列表容器
	                ,
	            done: function(page, next) { //到达临界点（默认滚动触发），触发下一页
	                var lis = [];
	                //请求下一页数据（注意：page是从2开始返回）
	                i.get('${base }/home/article?page=' + page + '&u=${blogMes.userName}', function(res) {
	                	
	                    layui.each(res.data, function(index, item) {
	                        lis.push('<div class="body-box-15 my-article-list"> <h3 class="mg-b-10"><a href="${base }/${blogMes.userName}/article/details/' + item.articleId + '" title="' + item.articleName + '">' +
	                            item.articleName + '</a>');
	                        if (item.articleUp == 1) {
	                            lis.push(' <span class="layui-badge layui-bg-red">置顶</span>')
	                        }
	                        if (item.articleSupport == 1) {
	                            lis.push(' <span class="layui-badge layui-bg-red">推荐</span>')
	                        }
	                        lis.push('</h3><div class="mg-b-10">');
	                        lis.push('<span class="layui-badge layui-bg-orange">' + item.sortArticleName + '</span>');
	                        lis.push('<span class="top-text"><i class="iconfont icon-time"></i>' + util.timeAgo(item.articleTime, true) + '</span>');
	                        lis.push('<span class="top-text"><i class="iconfont icon-browse"></i>' + item.articleClick + '</span>');
	                        lis.push('<span class="top-text"><i class="iconfont icon-message"></i>' + item.articleClick + '</span></div>');
	                        lis.push('<p class="layui-elip layui-text">' + item.articleDescription + '</p></div><hr>');
	                    });

	                    //执行下一页渲染，第二参数为：满足“加载更多”的条件，即后面仍有分页
	                    //pages为Ajax返回的总页数，只有当前页小于总页数的情况下，才会继续出现加载更多
	                    next(lis.join(''), page < res.pageCount);
	                });
	            }
	        });
		});
	</script>
	
	
</body>

</html>